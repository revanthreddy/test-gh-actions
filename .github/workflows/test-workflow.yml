name: Example workflow using HashiCorp Vault  
  
on:  
  push:  
    branches:  
      - main  
  
jobs:  
  example:  
    name: Fetch secrets with Vault  
    runs-on: ubuntu-latest  
  
    steps:  
    - name: Check out code  
      uses: actions/checkout@v2  
  
    - name: Fetch secret  
      uses: hashicorp/vault-action@v2  
      with:  
        url: ${{ env.VAULT_URL }}  
        token: ${{ secrets.VAULT_TOKEN }}  
        secrets: |  
          secret/data/my/secret mySecretKey | MY_SECRET_ENV  
      env:  
        VAULT_URL: 'https://my.vault.server:8200'  
